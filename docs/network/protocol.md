# 网络传输协议
- 参考资料：[刘超-趣谈网络协议【极客时间】](https://time.geekbang.org/column/intro/85)

## 网络协议综述

### 1）网络 5 层模型
![](http://images.intflag.com/protocol001.jpg)

### 2）工作流程
![](http://images.intflag.com/protocol002.jpg)

### 3）ip addr 命令
![](http://images.intflag.com/protocol004.jpg)

### 4）IP 地址
![](http://images.intflag.com/protocol003.jpg)
- 作用：提供远程定位功能，相当于「收货地址」
- 格式：IP 地址分为 4 个部分，每部分 8 位，共 32 位；
- 分类：5类（A类、B类、C类、D类、E类）
- 类型：公有地址、私有地址
- 无类别域间路由选择（CIDR）

```
IP/掩码位：16.158.165.91/22
子网掩码：255.255.252.0 (前22位表示网络号，后10位表示主机号)

网络号：16.158.164.0 (子网掩码和 IP 地址按位进行 AND 计算)
掩码：11111111.11111111.11111100.00000000  AND
地址：00010000.‬10011110.‭10100101‬.‭01011011‬
网络：00010000.10011110.10100100.00000000  = 16.158.164.0

第一个可用：16.158.164.1 (网络第一个)
二进制：00010000.10011110.10100100.00000001

最后一个可用：16.158.167.254 (网络倒数第二个)
二进制：00010000.10011110.10100100.11111110

广播地址：16.158.167.255 (网络最后一个)
二进制：00010000.10011110.10100100.11111111
```

### 5）MAC 地址
- 作用：区分全局唯一的功能 & 子网内定位功能
- 格式：6 字节，48 位，前 3 个字节（24 位）由 IEEE 分配，称为OUI（组织唯一标识符），后 3 个字节（24 位）由网卡制造商为其网卡分配一个唯一的编号
- MAC 地址的通信范围比较小，局限在一个子网里面

## 物理层

### 1）直通线与交叉线
- 直通线：不同设备之间的连接，网线两端的线序采用 568B 标准，统一都是：1、橙白 2、橙 3、绿白 4、蓝 5、蓝白 6、绿 7、棕白 8、棕
- 交叉线：相同设备之间的连接，网线一端采用 568B 标准，另一端采用 1-3、2-6 交叉接法，即 568A标准：1、绿白 2、绿 3、橙白 4、蓝 5、蓝白 6、橙 7、棕白 8、棕

### 2）HUB 集线器
- 可以组成一个最小的局域网 LAN
- 集线器没有大脑，它完全在物理层工作。它会将自己收到的每一个字节，都复制到其他端口上去

## 数据链路层

