# Redis
## 1、简介及优势
?> **面试题：** 简单介绍一下 Redis 以及为什么使用它？

<!-- tabs:start -->

#### **参考回答**

### 1）Redis简介
- Redis 是一个 key-value 数据库，和传统的数据库不同的是，它的数据可以存在内存中，所以读写速度非常快，因此经常用它来缓存数据；
- 除了保存在内存中还可以持久化到磁盘上，另外 Redis 也经常用来做分布式锁；
- Redis 提供多种数据类型支持不同的业务场景，还支持事务、LUA脚本、LRU驱动事件、多种集群方案。

### 2）Redis 优势
- <mark>&nbsp;高性能&nbsp;</mark>：通常情况下，一些频繁使用且很少更新的数据会用 Redis 进行缓存，当第一次访问时会从数据库加载，之后访问会直接从 Redis 中获取，数据库更新时同步更新 Redis 中的数据，采用这种方式可以大大提高程序的性能；
- <mark>&nbsp;高并发&nbsp;</mark>：因为 Redis 中的数据是存储在内存中的，直接操作内存能够承受的请求是远远大于直接访问数据库的，所以可以实现高并发；
- <mark>&nbsp;分布式&nbsp;</mark>：缓存分为本地缓存和分布式缓存，Redis 可以支持分布式缓存，多个实例共用一份缓存数据，具有一致性。

#### **源码详解**



<!-- tabs:end -->

## 2、单线程模型
?> **面试题：** Redis 是线程安全的吗，实现原理是什么？

<!-- tabs:start -->

#### **参考回答**
- Redis 内部使用了文件事件处理器 `file event handler`，这个文件事件处理器是单线程的，所以说 Redis 是单线程模型，底层采用 epoll，利用 epoll 的多路复用特性对网络请求进行处理；
- Redis 只有网络请求模块是单线程的，所以并发下的网络请求是线程安全的，而其他模块是多线程的;
- 文件事件处理器的结构包含 4 个部分：
    - 多个 socket;
    - IO 多路复用程序;
    - 文件事件分派器;
    - 事件处理器（连接应答处理器、命令请求处理器、命令回复处理器）;
- 多个 socket 可能会并发产生不同的操作，每个操作对应不同的文件事件，但是 IO 多路复用程序会监听多个 socket，会将 socket 产生的事件放入队列中排队，事件分派器每次从队列中取出一个事件，把该事件交给对应的事件处理器进行处理。


#### **源码详解**



<!-- tabs:end -->

### 3、数据结构
?> **面试题：** Redis 有哪几种数据结构，各自的使用场景是什么？

<!-- tabs:start -->

#### **参考回答**



#### **源码详解**



<!-- tabs:end -->



Redis，必须会的，我这方便还算懂得多点，可以和面试官大战几个回合吧，应该不至于上来被打趴下，单线程模型，aof，rdb，rewrite，主从，cluster，哪些类型，不要再说常规的5个了，多说几个让你区别其他小哥，包含一些缓存常见的问题击穿、穿透、雪崩、数据一致性等，你必须会，不会基本没戏，一致性hash，布隆过滤器的原理，为此我还去了解了geohash的原理以及google s2的原理，底层数据结构sds和跳表等，你多学点，准没错。